# Update PATH
export PATH=/opt/homebrew/bin/:/opt/homebrew/sbin/:/usr/local/sbin:$HOME/.local/bin:$PATH

# Source zsh-completion
if [[ -d "/opt/homebrew/share/zsh-completions" ]];then
    FPATH="/opt/homebrew/share/zsh-completions:$(brew --prefix)/share/zsh/site-functions:${FPATH}"
    autoload -Uz compinit promptipnit
    compinit
fi

# Define OpenShfit CLI completion
[ -f "/opt/homebrew/share/zsh-completions/_oc" ] && compdef _oc oc

# Define GitHub CLI (gh) completion
[ -f "/opt/homebrew/share/zsh-completions/_gh" ] || compdef _gh gh

# Define Gitlab CLI (glab) completion
[ -f "/opt/homebrew/share/zsh-completions/_glab" ] && compdef _glab glab

# Enable rtx
[ -f "/opt/homebrew/bin/rtx" ] && eval "$(rtx activate zsh)"

# Add tab highlight
zstyle ':completion:*' menu select
# Add zsh case-insensitive completion
zstyle ':completion:*' matcher-list '' 'm:{a-zA-Z}={A-Za-z}' 'r:|[._-]=* r:|=*' 'l:|=* r:|=*'
# Group completion
zstyle ':completion:*' group-name ''

# Make deletion behave similar to bash
autoload -U select-word-style
select-word-style bash

